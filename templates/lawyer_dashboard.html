{% extends "base.html" %}

{% block content %}
<h2 class="text-2xl font-semibold mb-4">Lawyer Dashboard</h2>

<section class="bg-white rounded-lg shadow-sm p-4 mb-6">
  <h3 class="font-semibold mb-2 text-slate-800">Your Profile</h3>
  {% if profile %}
    <p class="text-sm"><span class="font-medium">Name:</span> {{ current_user.name }}</p>
    <p class="text-sm"><span class="font-medium">Email:</span> {{ current_user.email }}</p>
    <p class="text-sm mt-2"><span class="font-medium">Expertise:</span>
      {{ profile.expertise_categories }}</p>
    <p class="text-sm mt-2 whitespace-pre-line">
      <span class="font-medium">Experience:</span> {{ profile.experience_description }}
    </p>
  {% else %}
    <p class="text-sm text-slate-500">No profile information found.</p>
  {% endif %}
</section>

<section class="bg-white rounded-lg shadow-sm p-4">
  <h3 class="font-semibold mb-2 text-slate-800">Your Chats</h3>
  {% if chats %}
    <ul class="space-y-2 text-sm">
      {% for chat in chats %}
      <li class="border rounded px-3 py-2 flex justify-between items-center">
        <div>
          <p class="font-medium">
            With user: {{ chat.user.name }}
          </p>
          {% if chat.issue %}
          <p class="text-xs text-slate-500">Issue: {{ chat.issue.title }}</p>
          {% endif %}
        </div>
        <a href="{{ url_for('main.chat_view', chat_id=chat.id) }}"
           class="text-xs text-sky-700 underline">
          Open Chat
        </a>
      </li>
      {% endfor %}
    </ul>
  {% else %}
    <p class="text-sm text-slate-500">No active chats yet.</p>
  {% endif %}
</section>
{% endblock %}



